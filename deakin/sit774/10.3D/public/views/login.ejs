<%- include('start') -%>
<header class="container">
    <div class="row text-center mt-5 mb-5">
        <div class="offset-sm-2 col-sm-8 col-md-8 col-lg-8">
            <h1 class="display-5 fw-bold text-body-emphasis">Home Repair</h1>
        </div>
    </div>
</header>
<main>
    <div class="offset-2 col-8">
        <div class="col-lg-6 col-xxl-4 my-5 mx-auto">
            <div class="row gap-2">
                <a class="col btn btn-primary" href="/introduction">Home</a>
              <a class="col btn btn-primary" href="/register">register</a>
            </div>
          </div>
        <form id="loginForm" class="needs-validation" novalidate>
            <div class="row my-5">
                <label for="emailOrPhone" class="form-label">Email address/Phone</label>
                <input type="text" class="form-control" id="emailOrPhone" aria-describedby="userInputHelp"
                    placeholder="We'll never share your email/phone with anyone else." onfocus="clearTips('login')"
                    required>
                <div class="valid-feedback">
                    Looks good!
                </div>
                <div class="invalid-feedback">
                    Please input an email or a phone
                </div>
            </div>
            <div class="row my-5">
                <label for="password" class="form-label">Password</label>
                <input type="password" class="form-control" onfocus="clearTips('pwd')" id="password">
                <div class="valid-feedback">
                    Looks good!
                </div>
                <div class="invalid-feedback">
                    Please input your password!
                </div>
            </div>
            <div class="row gap-3">
                <button type="button" class="col btn btn-primary" onclick="login()">Submit</button>
                <button class="col btn btn-info" onclick="reset()">Reset</button>
            </div>
        </form>
    </div>
</main>
</body>

<script>
function login() {
    let usernameTag = document.getElementById('emailOrPhone')
    let pwdTag = document.getElementById('password')

    usernameTag.classList.remove("is-valid", "is-invalid");
    pwdTag.classList.remove("is-valid", "is-invalid");

    if (usernameTag.value == undefined || usernameTag.value == '') {
        usernameTag.classList.add("is-invalid")
    } else {
        usernameTag.classList.add('is-valid')
    }

    if (pwdTag.value == undefined || pwdTag.value == '') {
        pwdTag.classList.add("is-invalid")
    } else {
        pwdTag.classList.add('is-valid')
    }
}

function clearTips(methond) {
    let usernameTag = document.getElementById('emailOrPhone')
    let pwdTag = document.getElementById('password')
    if ('login' == methond) {
        usernameTag.classList.remove("is-valid", "is-invalid");
    } else {
        pwdTag.classList.remove("is-valid", "is-invalid");
    }
}

function reset() {
    let usernameTag = document.getElementById('emailOrPhone')
    let pwdTag = document.getElementById('password')

    usernameTag.classList.remove("is-valid", "is-invalid");
    pwdTag.classList.remove("is-valid", "is-invalid");

    usernameTag.value = ''
    pwdTag.value = ''
}
</script>
<%- include('end') -%>